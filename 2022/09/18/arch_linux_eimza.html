<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Arch Linux EBYS Tübitak e-imza Kurulumu | Yusuf Sansarkan</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Arch Linux EBYS Tübitak e-imza Kurulumu" />
<meta name="author" content="Yusuf Sansarkan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bizde ACS ACR38T Beyaz kart okuyucu var. Öncelikle pcsclite dosyasını ve aur’dan akia dosyalarını yükledim. EBYS üzerinden imza atmak istediğimde site benden envision istemcisini kurmamı istedi. İnen deb uzantılı dosyayı debtap ile Arch’a kurulacak şekilde dönüştürdüm. Dönüştürme sırasında herhangi bir değişiklik yapmadım. Envision istemcisi kuruldu ama kurulum sonrası hatası verdi. Bu sorunun açıklaması şöyle:" />
<meta property="og:description" content="Bizde ACS ACR38T Beyaz kart okuyucu var. Öncelikle pcsclite dosyasını ve aur’dan akia dosyalarını yükledim. EBYS üzerinden imza atmak istediğimde site benden envision istemcisini kurmamı istedi. İnen deb uzantılı dosyayı debtap ile Arch’a kurulacak şekilde dönüştürdüm. Dönüştürme sırasında herhangi bir değişiklik yapmadım. Envision istemcisi kuruldu ama kurulum sonrası hatası verdi. Bu sorunun açıklaması şöyle:" />
<link rel="canonical" href="http://localhost:4000/2022/09/18/arch_linux_eimza.html" />
<meta property="og:url" content="http://localhost:4000/2022/09/18/arch_linux_eimza.html" />
<meta property="og:site_name" content="Yusuf Sansarkan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-18T00:00:00+03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Arch Linux EBYS Tübitak e-imza Kurulumu" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yusuf Sansarkan"},"dateModified":"2022-09-18T00:00:00+03:00","datePublished":"2022-09-18T00:00:00+03:00","description":"Bizde ACS ACR38T Beyaz kart okuyucu var. Öncelikle pcsclite dosyasını ve aur’dan akia dosyalarını yükledim. EBYS üzerinden imza atmak istediğimde site benden envision istemcisini kurmamı istedi. İnen deb uzantılı dosyayı debtap ile Arch’a kurulacak şekilde dönüştürdüm. Dönüştürme sırasında herhangi bir değişiklik yapmadım. Envision istemcisi kuruldu ama kurulum sonrası hatası verdi. Bu sorunun açıklaması şöyle:","headline":"Arch Linux EBYS Tübitak e-imza Kurulumu","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/09/18/arch_linux_eimza.html"},"url":"http://localhost:4000/2022/09/18/arch_linux_eimza.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Yusuf Sansarkan" />
<meta name="google-site-verification" content="5yl5SUX54fQ7Fh4xfDnIcuvEHNThQPWWnCDfkmIangg" />
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Yusuf Sansarkan</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/">Hakkımda</a><a class="page-link" href="/blog.html">Blog</a><a class="page-link" href="/publish.html">Yayınlarım</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Arch Linux EBYS Tübitak e-imza Kurulumu</h1>
    <p class="post-meta"><time class="dt-published" datetime="2022-09-18T00:00:00+03:00" itemprop="datePublished">
        Sep 18, 2022
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Bizde <strong>ACS ACR38T Beyaz</strong> kart okuyucu var.</p>

<p>Öncelikle <code class="language-plaintext highlighter-rouge">pcsclite</code> dosyasını ve aur’dan <code class="language-plaintext highlighter-rouge">akia</code> dosyalarını yükledim.</p>

<p>EBYS üzerinden imza atmak istediğimde site benden <strong>envision</strong> <strong>istemcisini</strong> kurmamı istedi. İnen <strong>deb</strong> uzantılı dosyayı <strong>debtap</strong> ile Arch’a kurulacak şekilde dönüştürdüm. Dönüştürme sırasında herhangi bir değişiklik yapmadım.</p>

<p>Envision istemcisi kuruldu ama kurulum sonrası hatası verdi. Bu sorunun açıklaması şöyle: <!--more--></p>

<p>Envision istemcisi systemd’ye <strong>socket</strong> adında bir modül ekliyor ancak modül çalıştırılmıyor. Bunun iki nedeni var: Birincisi <code class="language-plaintext highlighter-rouge">pyton2</code> eksikliği, ikincisi /usr/CBKSoft dizininin sahibinin <strong>root</strong> olması.</p>

<p>python2’nin kurulumu kolay. <code class="language-plaintext highlighter-rouge">pacman -S python2</code></p>

<p>İkincisine gelince: Dosya izinlerinden çok anlamadığım için acemi usulü Dolphin’i root olarak çalıştırdım, CBKSoft dizininin sahiplerine kendi kullanıcımı ekledim ve bunu tüm alt dizinlere ve dosyalara uygula dedim. Bunu yaptıktan sonra</p>

<p><code class="language-plaintext highlighter-rouge">sudo systemctl enable --now socket.service</code> deyince socket çalışmaya başladı.</p>

<p>Bu arada java 18 falan çalışmayabilir. Bu yüzden aur’dan <strong>Oracle’ın java 8</strong>‘ini kurmam gerekti. Şu andaki adı <code class="language-plaintext highlighter-rouge">jre8</code>. Kurduktan sonra java 8’i şu şekilde varsayılan yaptım:</p>

<p>java sürümlerini listelemek için <code class="language-plaintext highlighter-rouge">archlinux-java status</code> dedim. Ardından</p>

<p><code class="language-plaintext highlighter-rouge">sudo archlinux-java set java-8-jre/jre</code> komutuyla işi tamamladım.</p>

<p>Yetti mi? Yetmeyebilir… Bunun için
<code class="language-plaintext highlighter-rouge">/usr/CBKSoft/enVision.Client.Service/SignerCMSTubitak/</code>
dizinin içindeki iki dosyanın özelliklerine baktım. Birlikte açmak için varsayılan uygulamanın java 8 olduğundan emin olmalıydım.</p>

<p>Bütün bunları yapınca çalışır gibi oldu ama bir sorun daha çıkardı. İmzamı girince
<code class="language-plaintext highlighter-rouge">cannot encode tr.gov.tubitak.uekae.esya.asn.cms.SignedData@1</code>
hatası çıktı.</p>

<p><a target="_blank" href="https://kamusm.bilgem.tubitak.gov.tr/depo/sertifikalar/depo.jsp">Tübitak</a>‘ın sitesinden en alttaki Sertifikadeposu.svt’yi indirip kullanıcı dizinimde gizli bulanan .sertifikadeposu dizininin içine attım. Burada önceden aynı isimde bir dosya vardı ama sanırım bozuktu. Onunla değiştir deyince sorun düzeldi.</p>

<p style="font-size: 12px;">Aklınıza takılın bir şey olursa alttaki e-posta adresimden bana ulaşabilirsiniz.</p>

  </div><a class="u-url" href="/2022/09/18/arch_linux_eimza.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

 <div class="wrapper">

<div class="footer-col-wrapper">
      <div class="footer-col">
        <ul class="contact-list">
          <li class="p-name">Yusuf Sansarkan</li>
          <li><a class="u-email" href="mailto:yusuf.sansarkan@dpu.edu.tr">yusuf.sansarkan@dpu.edu.tr</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Kişisel Web Sitesi
</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/snsrkn" target="_blank" title="snsrkn"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://sciences.social/@sansarkan" target="_blank" title="sansarkan"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#mastodon"></use></svg></a></li><li><a href="https://scholar.google.com/citations?user=P6Iut1gAAAAJ%26hl%0AMastodon+instances" target="_blank" title="Google Scholar"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#google_scholar"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
